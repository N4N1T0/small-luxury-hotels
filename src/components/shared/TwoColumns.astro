---
import { Image } from 'astro:assets';

// AboutSection component
interface Props {
  title: string;
  subtitle?: string;
  description: string;
  imageSrc?: string;
  imageAlt?: string;
  buttonText?: string;
  buttonHref?: string;
}

const {
  title,
  subtitle,
  description,
  imageSrc = 'https://placehold.co/400x400',
  imageAlt,
  buttonText,
  buttonHref
} = Astro.props;
---

<section class="bg-background py-8">
  <div class="container mx-auto px-4">
    <div class="flex flex-col items-center gap-12 lg:flex-row">
      <!-- Image -->
      <div class="animate-fade-in-left animate-delay-300 w-full lg:w-1/2" id="two-columns-image">
        <Image
          src={imageSrc}
          alt={imageAlt || 'Imagen sobre nosotros'}
          class="aspect-square size-full max-h-[500px] object-cover"
          width={400}
          height={400}
          loading="eager"
          densities={[1, 2]}
        />
      </div>

      <!-- Content -->
      <div class="animate-fade-in-right animate-delay-300 w-full lg:w-1/2" id="two-columns-info">
        {subtitle && <p class="text-secondary/70 mb-2">{subtitle}</p>}
        <h2 class="text-main mb-6 text-3xl font-bold md:text-4xl">{title}</h2>
        <p class="text-foreground/70 mb-8 font-light">{description}</p>

        {
          buttonText && buttonHref && (
            <a
              href={buttonHref}
              class="bg-secondary hover:bg-secondary/90 inline-block rounded px-6 py-3 text-white transition"
            >
              {buttonText}
            </a>
          )
        }
      </div>
    </div>
  </div>
</section>

<script>
  import { animateElement } from '@/lib/scripts';

  animateElement('#two-columns-image', '-40px', 500);
  animateElement('#two-columns-info', '40px', 500);
</script>
