---
import { footerData, contactInfo } from '@/data/site-data';
import Newsletter from './preact-layout/Newsletter';
import { LogoWhite } from '@/assets';
import { Image } from 'astro:assets';
---

<footer class="bg-main text-background">
  <div class="container mx-auto flex flex-col px-4 py-12 md:flex-row" id="footer-info">
    <!-- Logo -->
    <div class="min-w-[200px] shrink-0">
      <Image src={LogoWhite} alt="Logo de Small Luxury Hotels" class="size-20" />
    </div>

    <!-- Main Footer Content -->
    <div class="mt-8 grid grid-cols-1 gap-8 md:mt-0 md:grid-cols-2 lg:grid-cols-3">
      <!-- Quick Links -->
      <div>
        <h3 class="mb-4 text-xl font-semibold">Enlaces rápidos</h3>
        <ul class="space-y-2">
          {
            footerData.quickLinks.map((link) => (
              <li>
                <a
                  href={link.link}
                  class="hover:text-accent text-background/80 font-light transition-colors"
                >
                  {link.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <!-- Contact Info -->
      <div>
        <h3 class="mb-4 text-xl font-semibold">Contacto</h3>
        <div class="text-background/80 space-y-2">
          <p>
            <span class="font-medium">Email:</span>
            <a
              href={`mailto:${contactInfo.email.address}`}
              class="hover:text-accent transition-colors"
            >
              {contactInfo.email.address}
            </a>
          </p>
          <p>
            <span class="font-medium">Teléfono:</span>
            <a
              href={`tel:${contactInfo.phone.numbers[0].value}`}
              class="hover:text-accent transition-colors"
            >
              {contactInfo.phone.numbers[0].label}
            </a>
          </p>
        </div>
      </div>

      <!-- Social Media -->
      <div>
        <h3 class="mb-4 text-xl font-semibold">Síguenos</h3>
        <div class="flex flex-col gap-2">
          {
            contactInfo.social.networks.map((network) => (
              <a
                href={network.url}
                target="_blank"
                rel="noopener noreferrer"
                class="hover:text-accent text-background/80 font-light transition-colors"
                aria-label={`Visita nuestro perfil de ${network.name}`}
              >
                {network.name}
              </a>
            ))
          }
        </div>
      </div>
    </div>

    <!-- Newsletter -->
    <div>
      <Newsletter />
    </div>
  </div>
  <!-- Legal Links -->
  <div class="border-background/20 mt-6 border-t p-6">
    <div class="flex flex-col items-center justify-between md:flex-row">
      <p class="text-background/60 mb-4 md:mb-0">{footerData.companyInfo.copyright}</p>
      <div class="flex flex-wrap justify-center gap-x-6 gap-y-2">
        {
          footerData.legal.map((item) => (
            <a
              href={item.link}
              class="hover:text-accent text-background/60 text-sm font-light transition-colors"
            >
              {item.label}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</footer>

<script>
  import { animateElement } from '@/lib/scripts';

  animateElement('#footer-info', '0', 300);
</script>
